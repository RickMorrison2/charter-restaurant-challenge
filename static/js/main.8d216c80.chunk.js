(this["webpackJsonpcharter-restaurant-challenge"]=this["webpackJsonpcharter-restaurant-challenge"]||[]).push([[0],{10:function(e,t,n){e.exports={form:"SearchBar_form__1dA7Z",search:"SearchBar_search__2KUTD"}},11:function(e,t,n){e.exports={noneFound:"RestaurantList_noneFound__3hh2E",restaurant:"RestaurantList_restaurant__4iJjD"}},27:function(e,t,n){},28:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),r=n.n(a),s=n(20),i=n.n(s),o=(n(27),n(28),n(4)),l=n(2),u=n(21),j=n.n(u),b=n(10),h=function(e){var t=e.onSearchSubmit,n=Object(a.useState)(""),r=Object(l.a)(n,2),s=r[0],i=r[1];return Object(c.jsx)("form",{className:b.form,onSubmit:function(e){e.preventDefault(),t(s)},children:Object(c.jsx)("input",{className:b.search,type:"text",placeholder:"Search Restaurants...",value:s,onChange:function(e){return i(e.target.value)}})})},d=n(7),O=function(e){var t=e.totalRecords,n=void 0===t?null:t,a=e.pageLimit,r=void 0===a?10:a,s=e.pageNeighbors,i=void 0===s?0:s,l=e.onPageChanged,u=e.currentPage;r="number"===typeof r?r:10,n="number"===typeof n?n:0,i="number"===typeof i?Math.max(0,Math.min(i,2)):0;var j=Math.ceil(n/r),b="LEFT",h="RIGHT",O=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,c=e,a=[];c<=t;)a.push(c),c+=n;return a},f=function(){var e=2*i+3;if(j>e+2){var t=Math.max(2,u-i),n=Math.min(j-1,u+i),c=O(t,n),a=t>2,r=j-n>1,s=e-(c.length+1);switch(!0){case a&&!r:var l=O(t-s,t-1);c=[b].concat(Object(o.a)(l),Object(o.a)(c));break;case!a&&r:var d=O(n+1,n+s);c=[].concat(Object(o.a)(c),Object(o.a)(d),[h]);break;case a&&r:default:c=[b].concat(Object(o.a)(c),[h])}return[1].concat(Object(o.a)(c),[j])}return O(1,j)}(),x=function(e){var t=Math.max(0,Math.min(e,j));l({scopedPage:t,totalPages:j,pageLimit:r,totalRecords:n})},m=function(e){return function(t){t.preventDefault(),x(e)}},p=function(e){e.preventDefault(),x(u-2*i-1)},g=function(e){e.preventDefault(),x(u+2*i+1)};return n&&1!==j?Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{className:d.list,children:f.map((function(e,t){return e===b?Object(c.jsx)("li",{onClick:p,className:"".concat(u===e?"".concat(d.active):""),children:Object(c.jsxs)("h4",{children:[Object(c.jsx)("span",{children:"\xab"}),Object(c.jsx)("span",{children:"Previous"})]})},t):e===h?Object(c.jsx)("li",{onClick:g,className:"".concat(u===e?"".concat(d.active):""),children:Object(c.jsxs)("h4",{children:[Object(c.jsx)("span",{children:"\xbb"}),Object(c.jsx)("span",{children:"Next"})]})},t):Object(c.jsx)("li",{onClick:m(e),className:"".concat(u===e?"".concat(d.active):""),children:Object(c.jsx)("h4",{children:e})},t)}))})}):null},f=n(11),x=function(e){var t=e.restaurants,n=e.selectedState,s=e.selectedGenre,i=e.searchText,u=Object(a.useState)([]),j=Object(l.a)(u,2),b=j[0],h=j[1],d=Object(a.useState)(1),x=Object(l.a)(d,2),m=x[0],p=x[1],g=Object(a.useState)(1),v=Object(l.a)(g,2),N=(v[0],v[1]),S=Object(o.a)(t).filter((function(e){return"All"===n||e.state===n})).filter((function(e){return"All"===s||e.genre.includes(s)})).filter((function(e){return""===i||(e.name.toLowerCase().includes(i.toLowerCase())||e.city.toLowerCase().includes(i.toLowerCase())||e.genre.toLowerCase().includes(i.toLowerCase()))})),_=Object(o.a)(S).filter((function(e){return 0===b.length||b.includes(e)})).slice(0,10);return 0===_.length?Object(c.jsx)(r.a.Fragment,{children:Object(c.jsx)("tr",{children:Object(c.jsx)("td",{className:f.noneFound,children:"No restaurants found."})})}):Object(c.jsxs)(r.a.Fragment,{children:[_.map((function(e){return Object(c.jsxs)("tr",{className:f.restaurant,children:[Object(c.jsx)("td",{children:e.name}),Object(c.jsx)("td",{children:e.city.includes(",")?e.city.split(",").join(", "):e.city}),Object(c.jsx)("td",{children:e.state}),Object(c.jsx)("td",{children:e.telephone}),Object(c.jsx)("td",{children:e.genre.includes(",")?e.genre.split(",").join(", "):e.genre})]},e.id)})),Object(c.jsx)(O,{totalRecords:S.length,pageLimit:10,pageNeighbors:0,onPageChanged:function(e){var n=e.scopedPage,c=e.totalPages,a=e.pageLimit,r=(n-1)*a;h(t.slice(r,r+a)),p(n),N(c)},currentPage:m})]})},m=n(5),p=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)({key:null,direction:"asc"}),i=Object(l.a)(s,2),u=i[0],b=i[1],d=Object(a.useState)("All"),O=Object(l.a)(d,2),f=O[0],p=O[1],g=Object(a.useState)("All"),v=Object(l.a)(g,2),N=v[0],S=v[1],_=Object(a.useState)(["All"]),C=Object(l.a)(_,2),y=C[0],A=C[1],M=Object(a.useState)(""),k=Object(l.a)(M,2),L=k[0],T=k[1],P=Object(a.useState)(1),R=Object(l.a)(P,2),D=(R[0],R[1],Object(a.useState)(1)),w=Object(l.a)(D,2),F=(w[0],w[1],Object(a.useState)([])),I=Object(l.a)(F,2),E=I[0];I[1];Object(a.useEffect)((function(){j.a.get("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:{Authorization:"Api-Key q3MNxtfep8Gt"}}).then((function(e){var t=e.data.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0}));r(t)}))}),[]),Object(a.useMemo)((function(){var e=Object(o.a)(y);for(var t in n)if(n[t].genre.includes(",")){var c=n[t].genre.split(",");for(var a in c)e.includes(c[a])||e.push(c[a])}else e.includes(n[t].genre)||e.push(n[t].genre);A(e.sort())}),[n]),Object(a.useMemo)((function(){var e=Object(o.a)(n).sort((function(e,t){return e[u.key]<t[u.key]?"asc"===u.direction?-1:1:e[u.key]>t[u.key]?"asc"===u.direction?1:-1:0}));r(e)}),[u]);var K=function(e){var t="asc";u&&u.key===e&&"asc"===u.direction&&(t="desc"),b({key:e,direction:t})};return Object(c.jsxs)("div",{className:m.container,children:[Object(c.jsx)(h,{searchText:L,onSearchSubmit:function(e){T(e),console.log("onSearchSubmit",e)}}),Object(c.jsxs)("table",{className:m.table,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{className:m.headRow,children:[Object(c.jsx)("th",{children:Object(c.jsx)("button",{className:m.button,type:"button",onClick:function(){return K("name")},children:"Name"})}),Object(c.jsx)("th",{children:Object(c.jsx)("button",{className:m.button,type:"button",onClick:function(){return K("city")},children:"City"})}),Object(c.jsxs)("th",{children:[Object(c.jsx)("button",{className:m.button,type:"button",onClick:function(){return K("state")},children:"State"}),Object(c.jsx)("select",{className:m.select,placeholder:"Select State",value:f,onChange:function(e){return p(e.target.value)},children:["All","AL","AK","AS","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","PR","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"].map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]}),Object(c.jsx)("th",{children:Object(c.jsx)("button",{className:m.button,type:"button",onClick:function(){return K("telephone")},children:"Phone Number"})}),Object(c.jsxs)("th",{children:[Object(c.jsx)("button",{className:m.button,type:"button",onClick:function(){return K("genre")},children:"Genre(s)"}),Object(c.jsx)("select",{className:m.select,value:N,onChange:function(e){return S(e.target.value)},children:y.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))})]})]})}),Object(c.jsx)("tbody",{children:Object(c.jsx)(x,{restaurants:n,currentRestaurants:E,selectedState:f,selectedGenre:N,searchText:L})})]})]})};var g=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(p,{})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root")),v()},5:function(e,t,n){e.exports={container:"Table_container__hCJMu",table:"Table_table__3dKcE",headRow:"Table_headRow__20mfZ",button:"Table_button__45Xia",select:"Table_select__1s-5X"}},7:function(e,t,n){e.exports={list:"Pagination_list___yksH",active:"Pagination_active__3Fq4D"}}},[[46,1,2]]]);
//# sourceMappingURL=main.8d216c80.chunk.js.map